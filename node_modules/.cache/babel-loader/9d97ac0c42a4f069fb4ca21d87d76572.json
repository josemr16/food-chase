{"ast":null,"code":"var _jsxFileName = \"/Users/joserodriguez/Desktop/food-chase1/src/components/CreateMeal/CreateMeal.js\";\nimport React from 'react';\nimport { storage } from '../firebase';\nimport './CreateMeal.css';\n\nclass CreateMeal extends React.Component {\n  constructor(props) {\n    super(props); // this.handleChange = this.handleChange.bind(this);\n\n    this.handleChange = event => {\n      if (event.target.files[0]) {\n        this.setState({\n          image: event.target.files[0]\n        });\n      }\n    };\n\n    this.handleUpload = () => {\n      const image = this.state.image;\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\n      uploadTask.on('state_changed', snapshot => {//progress  \n      }, error => {\n        //errors \n        console.log(error);\n      }, () => {\n        // complete\n        storage.ref('images').child(image.name).getDownloadURL().then(url => {\n          this.setState({\n            url\n          });\n        });\n      });\n    };\n\n    this.getPlateName = event => {\n      this.setState({\n        plateName: event.target.value\n      });\n    };\n\n    this.getPlateDescription = event => {\n      this.setState({\n        plateDescription: event.target.value\n      });\n    };\n\n    this.getPlatePrice = event => {\n      this.setState({\n        platePrice: event.target.value\n      });\n    };\n\n    this.getPickUpAdress = event => {\n      this.setState({\n        pickUpAdress: event.target.value\n      });\n    };\n\n    this.addPlate = () => {\n      if (this.state.image !== null && this.state.platePrice < 11 && this.state.pickUpAdress.length > 7 && this.state.plateName.length > 7) {\n        fetch('http://localhost:3000/post-a-meal', {\n          method: 'post',\n          headers: {\n            'Content-type': 'application/json'\n          },\n          body: JSON.stringify({\n            platename: this.state.plateName,\n            price: this.state.platePrice,\n            description: this.state.plateDescription,\n            image: this.state.url,\n            email: this.props.userEmail\n          })\n        });\n        this.props.onRouteChange('mealposts');\n      }\n    };\n\n    this.state = {\n      image: null,\n      url: '',\n      plateName: '',\n      platePrice: '',\n      pickUpAdress: '',\n      plateDescription: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"shadow-5 center-2 br4 pa2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"tc pa3 ma3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"pointer\",\n      onChange: this.handleChange,\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"f6 link dim ba bw1 ph3 pv2 mb2 dib black\",\n      onClick: this.handleUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Upload\")), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"br3\",\n      width: \"350px\",\n      height: \"150px\",\n      src: this.state.url || 'https://via.placeholder.com/350x150',\n      alt: \"plate img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, \"Pick Up Adress\"), React.createElement(\"input\", {\n      onChange: this.getPickUpAdress,\n      placeholder: \"Ex: 320 E Gun Hill Bronx NY 10467\",\n      className: \" pa2 input-reset ba bg-transparent hover-bg-black w-100\",\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Plate Name\"), React.createElement(\"input\", {\n      onChange: this.getPlateName,\n      placeholder: \"Ex: Rice and beans with chicken\",\n      className: \" pa2 input-reset ba bg-transparent hover-bg-black w-99\",\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Plate Description\"), React.createElement(\"input\", {\n      onChange: this.getPlateDescription,\n      placeholder: \"Ex: fried chicken black beans yellow rice\",\n      className: \" pa2 input-reset ba bg-transparent hover-bg-black w-100\",\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"db fw6 lh-copy f6\",\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"Plate Price\"), React.createElement(\"input\", {\n      onChange: this.getPlatePrice,\n      placeholder: \"In $ Max price is $10\",\n      className: \"pa2 input-reset ba bg-transparent hover-bg-black w-100\",\n      type: \"number\",\n      min: \"1.00\",\n      step: \"0.50\",\n      max: \"10.00\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"tc\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"f6 link dim ba bw1 ph3 pv2 mb2 dib black\",\n      onClick: this.addPlate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Add Plate\")));\n  }\n\n}\n\nexport default CreateMeal;","map":{"version":3,"sources":["/Users/joserodriguez/Desktop/food-chase1/src/components/CreateMeal/CreateMeal.js"],"names":["React","storage","CreateMeal","Component","constructor","props","handleChange","event","target","files","setState","image","handleUpload","state","uploadTask","ref","name","put","on","snapshot","error","console","log","child","getDownloadURL","then","url","getPlateName","plateName","value","getPlateDescription","plateDescription","getPlatePrice","platePrice","getPickUpAdress","pickUpAdress","addPlate","length","fetch","method","headers","body","JSON","stringify","platename","price","description","email","userEmail","onRouteChange","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,kBAAP;;AAGA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN,EADiB,CAEjB;;AAFiB,SAalBC,YAbkB,GAaFC,KAAD,IAAW;AACzB,UAAGA,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAH,EAAyB;AACxB,aAAKC,QAAL,CAAc;AAACC,UAAAA,KAAK,EAACJ,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB;AAAP,SAAd;AAGA;AACD,KAnBiB;;AAAA,SAoBlBG,YApBkB,GAoBH,MAAM;AAAA,YACbD,KADa,GACJ,KAAKE,KADD,CACbF,KADa;AAEpB,YAAMG,UAAU,GAAGb,OAAO,CAACc,GAAR,CAAa,UAASJ,KAAK,CAACK,IAAK,EAAjC,EAAoCC,GAApC,CAAwCN,KAAxC,CAAnB;AACAG,MAAAA,UAAU,CAACI,EAAX,CAAc,eAAd,EACEC,QAAD,IAAc,CACb;AAEA,OAJF,EAKEC,KAAD,IAAW;AACX;AACCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAEA,OATF,EAUC,MAAM;AACN;AACCnB,QAAAA,OAAO,CAACc,GAAR,CAAY,QAAZ,EAAsBQ,KAAtB,CAA4BZ,KAAK,CAACK,IAAlC,EAAwCQ,cAAxC,GAAyDC,IAAzD,CAA8DC,GAAG,IAAI;AACrE,eAAKhB,QAAL,CAAc;AAACgB,YAAAA;AAAD,WAAd;AACA,SAFA;AAIA,OAhBF;AAiBA,KAxCiB;;AAAA,SAyClBC,YAzCkB,GAyCFpB,KAAD,IAAU;AACxB,WAAKG,QAAL,CAAc;AAACkB,QAAAA,SAAS,EAAErB,KAAK,CAACC,MAAN,CAAaqB;AAAzB,OAAd;AACA,KA3CiB;;AAAA,SA6ClBC,mBA7CkB,GA6CKvB,KAAD,IAAU;AAC/B,WAAKG,QAAL,CAAc;AAACqB,QAAAA,gBAAgB,EAAExB,KAAK,CAACC,MAAN,CAAaqB;AAAhC,OAAd;AACA,KA/CiB;;AAAA,SAiDlBG,aAjDkB,GAiDDzB,KAAD,IAAU;AACzB,WAAKG,QAAL,CAAc;AAACuB,QAAAA,UAAU,EAAE1B,KAAK,CAACC,MAAN,CAAaqB;AAA1B,OAAd;AACA,KAnDiB;;AAAA,SAqDlBK,eArDkB,GAqDC3B,KAAD,IAAU;AAC3B,WAAKG,QAAL,CAAc;AAACyB,QAAAA,YAAY,EAAE5B,KAAK,CAACC,MAAN,CAAaqB;AAA5B,OAAd;AACA,KAvDiB;;AAAA,SAyDlBO,QAzDkB,GAyDP,MAAM;AAChB,UAAG,KAAKvB,KAAL,CAAWF,KAAX,KAAqB,IAArB,IACF,KAAKE,KAAL,CAAWoB,UAAX,GAAwB,EADtB,IAEF,KAAKpB,KAAL,CAAWsB,YAAX,CAAwBE,MAAxB,GAAiC,CAF/B,IAGF,KAAKxB,KAAL,CAAWe,SAAX,CAAqBS,MAArB,GAA8B,CAH/B,EAGiC;AAEhCC,QAAAA,KAAK,CAAC,mCAAD,EAAsC;AAC3CC,UAAAA,MAAM,EAAC,MADoC;AAE3CC,UAAAA,OAAO,EAAE;AAAC,4BAAgB;AAAjB,WAFkC;AAG3CC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBC,YAAAA,SAAS,EAAE,KAAK/B,KAAL,CAAWe,SADF;AAEpBiB,YAAAA,KAAK,EAAC,KAAKhC,KAAL,CAAWoB,UAFG;AAGpBa,YAAAA,WAAW,EAAC,KAAKjC,KAAL,CAAWkB,gBAHH;AAIpBpB,YAAAA,KAAK,EAAC,KAAKE,KAAL,CAAWa,GAJG;AAKpBqB,YAAAA,KAAK,EAAC,KAAK1C,KAAL,CAAW2C;AALG,WAAf;AAHqC,SAAtC,CAAL;AAWA,aAAK3C,KAAL,CAAW4C,aAAX,CAAyB,WAAzB;AACA;AACD,KA5EiB;;AAGjB,SAAKpC,KAAL,GAAa;AACZF,MAAAA,KAAK,EAAE,IADK;AAEZe,MAAAA,GAAG,EAAE,EAFO;AAGZE,MAAAA,SAAS,EAAE,EAHC;AAIZK,MAAAA,UAAU,EAAE,EAJA;AAKZE,MAAAA,YAAY,EAAC,EALD;AAMZJ,MAAAA,gBAAgB,EAAE;AANN,KAAb;AAQA;;AAoEDmB,EAAAA,MAAM,GAAG;AAER,WACC;AAAK,MAAA,SAAS,EAAG,2BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAE,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAO,MAAA,SAAS,EAAC,SAAjB;AAA2B,MAAA,QAAQ,EAAI,KAAK5C,YAA5C;AAAyD,MAAA,IAAI,EAAG,MAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC;AAAQ,MAAA,SAAS,EAAC,0CAAlB;AAA6D,MAAA,OAAO,EAAI,KAAKM,YAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,CADD,EAOC;AAAK,MAAA,SAAS,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAE,KAAhB;AAAsB,MAAA,KAAK,EAAE,OAA7B;AAAqC,MAAA,MAAM,EAAC,OAA5C;AAAoD,MAAA,GAAG,EAAI,KAAKC,KAAL,CAAWa,GAAX,IAAkB,qCAA7E;AAAoH,MAAA,GAAG,EAAC,WAAxH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAPD,EAUC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAO,MAAA,SAAS,EAAC,mBAAjB;AAAqC,MAAA,OAAO,EAAC,UAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,EAEI;AAAO,MAAA,QAAQ,EAAI,KAAKQ,eAAxB;AAAyC,MAAA,WAAW,EAAG,mCAAvD;AAA0F,MAAA,SAAS,EAAC,yDAApG;AAA8J,MAAA,IAAI,EAAC,MAAnK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGC;AAAO,MAAA,SAAS,EAAC,mBAAjB;AAAqC,MAAA,OAAO,EAAC,UAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHD,EAII;AAAO,MAAA,QAAQ,EAAI,KAAKP,YAAxB;AAAsC,MAAA,WAAW,EAAG,iCAApD;AAAqF,MAAA,SAAS,EAAC,wDAA/F;AAAwJ,MAAA,IAAI,EAAC,MAA7J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKI;AAAO,MAAA,SAAS,EAAC,mBAAjB;AAAqC,MAAA,OAAO,EAAC,UAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BALJ,EAMI;AAAO,MAAA,QAAQ,EAAI,KAAKG,mBAAxB;AAA6C,MAAA,WAAW,EAAG,2CAA3D;AAAsG,MAAA,SAAS,EAAC,yDAAhH;AAA0K,MAAA,IAAI,EAAC,MAA/K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANJ,EAOI;AAAO,MAAA,SAAS,EAAC,mBAAjB;AAAqC,MAAA,OAAO,EAAC,UAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPJ,EAQI;AAAO,MAAA,QAAQ,EAAI,KAAKE,aAAxB;AAAuC,MAAA,WAAW,EAAG,uBAArD;AAA4E,MAAA,SAAS,EAAC,wDAAtF;AAA+I,MAAA,IAAI,EAAC,QAApJ;AAA6J,MAAA,GAAG,EAAC,MAAjK;AAAwK,MAAA,IAAI,EAAC,MAA7K;AAAoL,MAAA,GAAG,EAAC,OAAxL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARJ,CAVD,EAoBC;AAAK,MAAA,SAAS,EAAG,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAQ,MAAA,SAAS,EAAC,0CAAlB;AAA6D,MAAA,OAAO,EAAI,KAAKI,QAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADD,CApBD,CADD;AA2BA;;AA7GuC;;AAgHzC,eAAelC,UAAf","sourcesContent":["import React from 'react';\nimport {storage} from '../firebase'\nimport './CreateMeal.css'\n\n\nclass CreateMeal extends React.Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\t// this.handleChange = this.handleChange.bind(this);\n\t\tthis.state = {\n\t\t\timage: null,\n\t\t\turl: '',\n\t\t\tplateName: '',\n\t\t\tplatePrice: '',\n\t\t\tpickUpAdress:'',\n\t\t\tplateDescription: ''\n\t\t}\n\t}\n\n\thandleChange = (event) => {\n\t\tif(event.target.files[0]){\n\t\t\tthis.setState({image:event.target.files[0]})\n\n\n\t\t}\n\t}\n\thandleUpload = () => {\n\t\tconst {image} = this.state;\n\t\tconst uploadTask = storage.ref(`images/${image.name}`).put(image);\n\t\tuploadTask.on('state_changed',\n\t\t\t(snapshot) => {\n \t\t\t//progress  \n\n\t\t\t}, \n\t\t\t(error) => {\n\t\t\t//errors \n\t\t\t\tconsole.log(error)\n\n\t\t\t}, \n\t\t\t() => {\n\t\t\t// complete\n\t\t\t\tstorage.ref('images').child(image.name).getDownloadURL().then(url => {\n\t\t\t\tthis.setState({url})\n\t\t\t})\n\n\t\t\t})\n\t}\n\tgetPlateName = (event)=> {\n\t\tthis.setState({plateName: event.target.value})\n\t}\n\n\tgetPlateDescription = (event)=> {\n\t\tthis.setState({plateDescription: event.target.value})\n\t}\n\n\tgetPlatePrice = (event)=> {\n\t\tthis.setState({platePrice: event.target.value})\n\t}\n\n\tgetPickUpAdress = (event)=> {\n\t\tthis.setState({pickUpAdress: event.target.value})\n\t}\n\n\taddPlate = () => {\n\t\tif(this.state.image !== null &&\n\t\t\tthis.state.platePrice < 11 &&\n\t\t\tthis.state.pickUpAdress.length > 7 &&\n\t\t\tthis.state.plateName.length > 7){\n\n\t\t\tfetch('http://localhost:3000/post-a-meal', {\n\t\t\tmethod:'post',\n\t\t\theaders: {'Content-type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tplatename: this.state.plateName,\n\t\t\t\tprice:this.state.platePrice,\n\t\t\t\tdescription:this.state.plateDescription,\n\t\t\t\timage:this.state.url,\n\t\t\t\temail:this.props.userEmail\n\t\t\t\t})\n\t\t\t})\n\t\t\tthis.props.onRouteChange('mealposts')\n\t\t}\n\t}\n\n\n\trender() {\n\t\t\n\t\treturn(\n\t\t\t<div className = 'shadow-5 center-2 br4 pa2'>\n\t\t\t\t<div className ='tc pa3 ma3'>\n\t\t\t\t\t<input className='pointer' onChange = {this.handleChange}type = 'file' />\n\t\t\t\t\t<button className='f6 link dim ba bw1 ph3 pv2 mb2 dib black' onClick = {this.handleUpload}>Upload</button>\n\t\t\t\t\t\n\t\n\t\t\t\t</div>\n\t\t\t\t<div className=''>\n\t\t\t\t\t<img className ='br3' width ='350px' height='150px' src = {this.state.url || 'https://via.placeholder.com/350x150'} alt='plate img' />\n\t\t\t\t</div>\n\t\t\t\t<div className='center'>\n\t\t\t\t\t<label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Pick Up Adress</label>\n\t\t\t\t    <input onChange = {this.getPickUpAdress} placeholder = 'Ex: 320 E Gun Hill Bronx NY 10467'className=\" pa2 input-reset ba bg-transparent hover-bg-black w-100\" type=\"text\" />\n\t\t\t\t\t<label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Plate Name</label>\n\t\t\t\t    <input onChange = {this.getPlateName} placeholder = 'Ex: Rice and beans with chicken'className=\" pa2 input-reset ba bg-transparent hover-bg-black w-99\" type=\"text\" />\n\t\t\t\t    <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Plate Description</label>\n\t\t\t\t    <input onChange = {this.getPlateDescription} placeholder = 'Ex: fried chicken black beans yellow rice'className=\" pa2 input-reset ba bg-transparent hover-bg-black w-100\" type=\"text\" />\n\t\t\t\t    <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Plate Price</label>\n\t\t\t\t    <input onChange = {this.getPlatePrice} placeholder = 'In $ Max price is $10'className=\"pa2 input-reset ba bg-transparent hover-bg-black w-100\" type=\"number\" min=\"1.00\" step=\"0.50\" max=\"10.00\" />\n\t\t\t\t</div>\n\t\t\t\t<div className = 'tc'>\n\t\t\t\t\t<button className='f6 link dim ba bw1 ph3 pv2 mb2 dib black' onClick = {this.addPlate}>Add Plate</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\nexport default CreateMeal;"]},"metadata":{},"sourceType":"module"}