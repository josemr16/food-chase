{"ast":null,"code":"var _jsxFileName = \"/Users/joserodriguez/Desktop/food-chase1/src/components/CreateMeal/CreateMeal.js\";\nimport React from 'react';\nimport { storage } from '../firebase';\nimport './CreateMeal.css';\n\nclass CreateMeal extends React.Component {\n  constructor(props) {\n    super(props); // this.handleChange = this.handleChange.bind(this);\n\n    this.handleChange = event => {\n      if (event.target.files[0]) {\n        this.setState({\n          image: event.target.files[0]\n        });\n      }\n    };\n\n    this.handleUpload = () => {\n      const image = this.state.image;\n      const uploadTask = storage.ref(`images/${image.name}`).put(image);\n      uploadTask.on('state_changed', snapshot => {//progress  \n      }, error => {\n        //errors \n        console.log(error);\n      }, () => {\n        // complete\n        storage.ref('images').child(image.name).getDownloadURL().then(url => {\n          this.setState({\n            url\n          });\n        });\n      });\n    };\n\n    this.state = {\n      image: null,\n      url: ''\n    };\n  }\n\n  render() {\n    const style = {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    };\n    return React.createElement(\"div\", {\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pa3 ma3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"\",\n      onChange: this.handleChange,\n      type: \"file\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.handleUpload,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"Upload\")), React.createElement(\"div\", {\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"br3\",\n      width: \"400px\",\n      height: \"auto\",\n      src: this.state.url || 'https://via.placeholder.com/350x150',\n      alt: \"plate img\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default CreateMeal;","map":{"version":3,"sources":["/Users/joserodriguez/Desktop/food-chase1/src/components/CreateMeal/CreateMeal.js"],"names":["React","storage","CreateMeal","Component","constructor","props","handleChange","event","target","files","setState","image","handleUpload","state","uploadTask","ref","name","put","on","snapshot","error","console","log","child","getDownloadURL","then","url","render","style","display","alignItems","justifyContent"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAO,kBAAP;;AAGA,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACjB,UAAMA,KAAN,EADiB,CAEjB;;AAFiB,SASlBC,YATkB,GASFC,KAAD,IAAW;AACzB,UAAGA,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAH,EAAyB;AACxB,aAAKC,QAAL,CAAc;AAACC,UAAAA,KAAK,EAACJ,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB;AAAP,SAAd;AAEA;AACD,KAdiB;;AAAA,SAelBG,YAfkB,GAeH,MAAM;AAAA,YACbD,KADa,GACJ,KAAKE,KADD,CACbF,KADa;AAEpB,YAAMG,UAAU,GAAGb,OAAO,CAACc,GAAR,CAAa,UAASJ,KAAK,CAACK,IAAK,EAAjC,EAAoCC,GAApC,CAAwCN,KAAxC,CAAnB;AACAG,MAAAA,UAAU,CAACI,EAAX,CAAc,eAAd,EACEC,QAAD,IAAc,CACb;AAEA,OAJF,EAKEC,KAAD,IAAW;AACX;AACCC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AAEA,OATF,EAUC,MAAM;AACN;AACCnB,QAAAA,OAAO,CAACc,GAAR,CAAY,QAAZ,EAAsBQ,KAAtB,CAA4BZ,KAAK,CAACK,IAAlC,EAAwCQ,cAAxC,GAAyDC,IAAzD,CAA8DC,GAAG,IAAI;AACrE,eAAKhB,QAAL,CAAc;AAACgB,YAAAA;AAAD,WAAd;AACA,SAFA;AAIA,OAhBF;AAiBA,KAnCiB;;AAGjB,SAAKb,KAAL,GAAa;AACZF,MAAAA,KAAK,EAAE,IADK;AAEZe,MAAAA,GAAG,EAAE;AAFO,KAAb;AAIA;;AA+BDC,EAAAA,MAAM,GAAG;AACR,UAAMC,KAAK,GAAG;AAEbC,MAAAA,OAAO,EAAE,MAFI;AAGbC,MAAAA,UAAU,EAAE,QAHC;AAIbC,MAAAA,cAAc,EAAE;AAJH,KAAd;AAOA,WACC;AAAK,MAAA,SAAS,EAAE,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAG,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAO,MAAA,SAAS,EAAC,EAAjB;AAAoB,MAAA,QAAQ,EAAI,KAAKzB,YAArC;AAAkD,MAAA,IAAI,EAAG,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,EAEC;AAAQ,MAAA,OAAO,EAAI,KAAKM,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFD,CADD,EAMC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACC;AAAK,MAAA,SAAS,EAAE,KAAhB;AAAsB,MAAA,KAAK,EAAE,OAA7B;AAAqC,MAAA,MAAM,EAAC,MAA5C;AAAmD,MAAA,GAAG,EAAI,KAAKC,KAAL,CAAWa,GAAX,IAAkB,qCAA5E;AAAmH,MAAA,GAAG,EAAC,WAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CAND,CADD;AAaA;;AA5DuC;;AA+DzC,eAAexB,UAAf","sourcesContent":["import React from 'react';\nimport {storage} from '../firebase'\nimport './CreateMeal.css'\n\n\nclass CreateMeal extends React.Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\t// this.handleChange = this.handleChange.bind(this);\n\t\tthis.state = {\n\t\t\timage: null,\n\t\t\turl: ''\n\t\t}\n\t}\n\n\thandleChange = (event) => {\n\t\tif(event.target.files[0]){\n\t\t\tthis.setState({image:event.target.files[0]})\n\n\t\t}\n\t}\n\thandleUpload = () => {\n\t\tconst {image} = this.state;\n\t\tconst uploadTask = storage.ref(`images/${image.name}`).put(image);\n\t\tuploadTask.on('state_changed',\n\t\t\t(snapshot) => {\n \t\t\t//progress  \n\n\t\t\t}, \n\t\t\t(error) => {\n\t\t\t//errors \n\t\t\t\tconsole.log(error)\n\n\t\t\t}, \n\t\t\t() => {\n\t\t\t// complete\n\t\t\t\tstorage.ref('images').child(image.name).getDownloadURL().then(url => {\n\t\t\t\tthis.setState({url})\n\t\t\t})\n\n\t\t\t})\n\t}\n\n\n\trender() {\n\t\tconst style = {\n\t\t\t\n\t\t\tdisplay: 'flex',\n\t\t\talignItems: 'center',\n\t\t\tjustifyContent: 'center'\n\t\t}\n\n\t\treturn(\n\t\t\t<div className ='center'>\n\t\t\t\t<div className = 'pa3 ma3'>\n\t\t\t\t\t<input className='' onChange = {this.handleChange}type = 'file' />\n\t\t\t\t\t<button onClick = {this.handleUpload}>Upload</button>\n\t\n\t\t\t\t</div>\n\t\t\t\t<div className='center'>\n\t\t\t\t\t<img className ='br3' width ='400px' height='auto' src = {this.state.url || 'https://via.placeholder.com/350x150'} alt='plate img' />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t);\n\t}\n}\n\nexport default CreateMeal;"]},"metadata":{},"sourceType":"module"}